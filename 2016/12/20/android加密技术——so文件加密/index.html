<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>android加密技术——so文件加密 | Rve</title>
  <meta name="author" content="李南均">
  
  <meta name="description" content="&amp;#x524D;&amp;#x8A00;&amp;#x4E0A;&amp;#x6B21;&amp;#x8BF4;&amp;#x4E86;dex&amp;#x7684;&amp;#x52A0;&amp;#x5BC6;&amp;#xFF0C;&amp;#x5373;&amp;#x662F;&amp;#x5BF9;&amp;#x7F16;&amp;#x8BD1;&amp;#x751F;&amp;#x6210;&amp;#x7684;dex">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="android加密技术——so文件加密"/>
  <meta property="og:site_name" content="Rve"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-70812759-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?cb5448498d7169c668b07c2b255d62c1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Rve</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>归档
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>分类
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>标签
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>关于我
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> android加密技术——so文件加密</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h2 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h2><p>&#x4E0A;&#x6B21;&#x8BF4;&#x4E86;dex&#x7684;&#x52A0;&#x5BC6;&#xFF0C;&#x5373;&#x662F;&#x5BF9;&#x7F16;&#x8BD1;&#x751F;&#x6210;&#x7684;dex&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x3002;&#x8FD9;&#x6B21;&#x5C31;&#x6700;&#x8FD1;&#x770B;&#x7684;so&#x52A0;&#x5BC6;&#xFF0C;&#x6211;&#x4EEC;&#x77E5;&#x9053;so&#x6587;&#x4EF6;&#x662F;android&#x901A;&#x8FC7;JNI&#x8FDB;&#x884C;&#x8C03;&#x7528;&#xFF0C;&#x7531;&#x4E8E;&#x662F;&#x4F7F;&#x7528;c&#x8FDB;&#x884C;&#x7F16;&#x5199;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x5B83;&#x7684;&#x9006;&#x5411;&#x5E76;&#x4E0D;&#x50CF;&#x5BF9;&#x4E8E;java&#x7684;&#x9006;&#x5411;&#x90A3;&#x4E48;&#x5BB9;&#x6613;&#x3002;&#x9006;&#x5411;&#x7684;arm&#x6C47;&#x7F16;&#x4EE3;&#x7801;&#x4E5F;&#x663E;&#x5F97;&#x5341;&#x5206;&#x5730;&#x96BE;&#x61C2;&#x3002;&#x4F46;&#x662F;&#x5E76;&#x4E0D;&#x662F;&#x8BF4;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x4FDD;&#x8BC1;so&#x6587;&#x4EF6;&#x7684;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x53EA;&#x662F;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x70B9;&#x96BE;&#x5EA6;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x540C;&#x6837;&#x4E5F;&#x601D;&#x8003;&#x8FC7;&#x5BF9;so&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x3002;</p>
<p>so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x60F3;&#x5199;&#x4E00;&#x70B9;&#x81EA;&#x5DF1;&#x5BF9;so&#x6587;&#x4EF6;&#x7684;&#x5B66;&#x4E60;&#x6210;&#x679C;&#xFF0C;&#x7531;&#x4E8E;&#x6DF1;&#x5165;&#x5730;&#x7814;&#x7A76;&#x53EF;&#x80FD;&#x4F1A;&#x6D89;&#x53CA;&#x5230;&#x7F16;&#x8BD1;&#x7B49;&#x539F;&#x7406;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x662F;&#x6D45;&#x663E;&#x7684;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x3002;&#x518D;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;ctf&#x7684;&#x9898;&#x89E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x9898;&#x5C31;&#x662F;&#x6D89;&#x53CA;&#x5230;&#x5BF9;&#x4E8E;so&#x6587;&#x4EF6;&#x7684;&#x52A0;&#x5BC6;&#x3002;</p>
<h2 id="so&#x6587;&#x4EF6;&#x89E3;&#x6790;"><a href="#so&#x6587;&#x4EF6;&#x89E3;&#x6790;" class="headerlink" title="so&#x6587;&#x4EF6;&#x89E3;&#x6790;"></a>so&#x6587;&#x4EF6;&#x89E3;&#x6790;</h2><p>&#x9996;&#x5148;&#x8BB2;&#x4E00;&#x4E0B;so&#x6587;&#x4EF6;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x5728;&#x7814;&#x7A76;so&#x52A0;&#x5BC6;&#x65F6;&#xFF0C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x7834;&#x89E3;&#x5B83;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x4E00;&#x4E0B;&#x5B83;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x3002;&#x7531;&#x4E8E;so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;&#x6D89;&#x53CA;&#x5230;&#x5177;&#x4F53;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x4FEE;&#x6539;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6211;&#x4EEC;&#x5728;&#x5B9E;&#x73B0;so&#x4E2D;&#x6BB5;&#x6216;&#x662F;&#x51FD;&#x6570;&#x7684;&#x52A0;&#x5BC6;&#x65F6;&#xFF0C;&#x5176;&#x5B9E;&#x662F;&#x6CA1;&#x6709;&#x5DE5;&#x5177;&#x7684;&#xFF0C;&#x53EA;&#x6709;&#x901A;&#x8FC7;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x627E;&#x5230;&#x6211;&#x4EEC;&#x7279;&#x5B9A;&#x7684;&#x9700;&#x8981;&#x52A0;&#x5BC6;&#x7684;&#x51FD;&#x6570;&#x6BB5;&#xFF0C;&#x518D;&#x5BF9;&#x8FD9;&#x5806;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x3002;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x5728;&#x8131;&#x58F3;&#x65F6;&#x4E5F;&#x80FD;&#x51C6;&#x786E;&#x5730;&#x5B9A;&#x4F4D;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x52A0;&#x5BC6;&#x4EE3;&#x7801;&#x6BB5;&#xFF0C;&#x8FD8;&#x539F;&#x51FA;&#x6765;&#x3002;</p>
<p>so&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x4E3A;ELF&#xFF1A;&#x53EF;&#x6267;&#x884C;&#x94FE;&#x63A5;&#x683C;&#x5F0F;&#xFF08;Executable and Linking Format&#xFF09;</p>
<p>&#x4E0B;&#x9762;&#x8FD9;&#x5F20;&#x56FE;&#x5F88;&#x8BE6;&#x7EC6;&#x7684;&#x63CF;&#x8FF0;&#x4E86;elf&#x6587;&#x4EF6;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x56FE;&#x53EF;&#x4EE5;&#x5927;&#x81F4;&#x7684;&#x4E86;&#x89E3;so&#x6587;&#x4EF6;&#x7684;&#x683C;&#x5F0F;</p>
<p><img src="/2016/12/20/android&#x52A0;&#x5BC6;&#x6280;&#x672F;&#x2014;&#x2014;so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;/1.png" alt="1"></p>
<p>&#x901A;&#x8FC7;&#x5BF9;so&#x6587;&#x4EF6;&#x6BB5;&#x7684;&#x6DFB;&#x52A0;&#x53EF;&#x4EE5;&#x5927;&#x81F4;&#x719F;&#x6089;&#x5982;&#x4F55;&#x89E3;&#x6790;so&#x6587;&#x4EF6;&#x7684;&#x6D41;&#x7A0B;&#x3002;&#x7531;&#x4E8E;so&#x4E2D;&#x7684;&#x6570;&#x636E;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x6BB5;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x6D89;&#x53CA;&#x5230;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x4FEE;&#x6539;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x5BF9;&#x8FD9;&#x4E9B;&#x6BB5;&#x7684;&#x4F5C;&#x7528;&#x5C5E;&#x6027;&#x90FD;&#x975E;&#x5E38;&#x4E86;&#x89E3;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x624D;&#x80FD;&#x51C6;&#x786E;&#x5B9A;&#x4F4D;&#x5230;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x4EE3;&#x7801;&#x6BB5;&#x3002;</p>
<p>ELF&#x6587;&#x4EF6;&#x4E3B;&#x8981;&#x7531;&#x6587;&#x4EF6;&#x5934;&#xFF08;ELF header&#xFF09;&#x3001;&#x4EE3;&#x7801;&#x6BB5;&#xFF08;.text&#xFF09;&#x3001;&#x6570;&#x636E;&#x6BB5;&#xFF08;.data&#xFF09;&#x3001;.bss&#x6BB5;&#x3001;&#x53EA;&#x8BFB;&#x6570;&#x636E;&#x6BB5;&#xFF08;.rodata&#xFF09;&#x3001;&#x6BB5;&#x8868;&#xFF08;section table&#xFF09;&#x3001;&#x7B26;&#x53F7;&#x8868;&#xFF08;symtab&#xFF09;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#xFF08;&#xFF09;&#x3001;&#x91CD;&#x5B9A;&#x4F4D;&#x8868;&#xFF08;.rel.text&#xFF09;</p>
<p><strong>&#x6DFB;&#x52A0;&#x6B65;&#x9AA4;&#xFF1A;</strong></p>
<p>1&#x3001;&#x627E;&#x5230;elf header&#x6700;&#x540E;&#x4E24;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;elf header&#x5927;&#x5C0F;&#x4E3A;34h&#xFF0C;30h&#x4E3A;&#x6574;&#x4E2A;section&#x7684;&#x5927;&#x5C0F;&#xFF08;&#x603B;&#x5171;&#x7684;section&#x6570;&#x76EE;&#x52A0;1&#xFF09;&#xFF0C;32h&#x4E3A;e_shstrndx&#xFF0C;&#x6307;&#x5411;&#x7D22;&#x5F15;&#x8868;Section names string table&#xFF0C;&#x6307;&#x5411;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x4E3A;&#x8FD9;&#x4E2A;section&#x4E3A;&#x6240;&#x6709;section&#x7684;&#x7B2C;&#x51E0;&#x4E2A;&#xFF0C;&#x4E0B;&#x56FE;&#x4E2D;&#x770B;&#x5230;&#x4E00;&#x5171;&#x6709;0x15&#x4E2A;section&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;section&#x4E3A;&#x7B2C;0x14&#x4E2A;&#xFF0C;Section names string table&#x4E3A;&#x6240;&#x6709;&#x8282;&#x533A;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x5E76;&#x4E14;&#x8282;&#x533A;&#x5934;&#x90E8;&#x7684;sh_name&#x4E3A;&#x8BE5;&#x8868;&#x5230;&#x8282;&#x533A;&#x5934;&#x90E8;&#x7684;&#x504F;&#x79FB;&#x3002;</p>
<p><img src="/2016/12/20/android&#x52A0;&#x5BC6;&#x6280;&#x672F;&#x2014;&#x2014;so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;/2.png" alt="2"></p>
<p>&#x627E;&#x5230;Section names string table</p>
<p><img src="/2016/12/20/android&#x52A0;&#x5BC6;&#x6280;&#x672F;&#x2014;&#x2014;so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;/3.png" alt="3"></p>
<p>&#x9700;&#x8981;&#x5728;&#x8FD9;&#x4E2A;section&#x4E2D;&#x6DFB;&#x52A0;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x6DFB;&#x52A0;&#x7684;table name&#xFF0C;&#x53EA;&#x80FD;&#x5728;&#x7ED3;&#x5C3E;&#x5904;&#x6DFB;&#x52A0;table name&#x5E76;&#x4E14;&#x5C06;&#x8FD9;&#x4E2A;section&#x7684;&#x957F;&#x5EA6;&#x589E;&#x52A0;&#x5230;table name&#x7684;&#x7ED3;&#x5C3E;&#x51CF;&#x53BB;&#x8BE5;section&#x7684;&#x8D77;&#x59CB;</p>
<p><img src="/2016/12/20/android&#x52A0;&#x5BC6;&#x6280;&#x672F;&#x2014;&#x2014;so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;/4.png" alt="4"></p>
<p>2&#x3001;&#x6DFB;&#x52A0;&#x65B0;&#x7684;section header&#x5230;section header&#x5C3E;&#x90E8;&#xFF0C;&#x901A;&#x8FC7;sh_name&#x6765;&#x627E;&#x8FD9;&#x4E2A;&#x65B0;&#x7684;section&#x7684;name</p>
<p>sh_name&#x4E3A;&#x65B0;&#x7684;section header&#x5230;section name table&#x7684;&#x504F;&#x79FB;&#x503C;</p>
<p>sh_type&#xFF1A;&#x6BB5;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x628A;&#x548C;&#x8BBE;&#x7F6E;&#x7684;&#x548C;.rodata&#x6BB5;&#x7684;&#x7C7B;&#x578B;&#x76F8;&#x540C;&#x5373;&#x53EF;</p>
<p>sh_flags&#xFF1A;&#x6BB5;&#x7684;&#x5C5E;&#x6027;</p>
<p>sh_addr&#xFF1A;&#x6BB5;&#x88AB;&#x6620;&#x50CF;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x9996;&#x5730;&#x5740;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8FD9;&#x4E2A;section&#x7684;&#x8D77;&#x59CB;&#x5730;&#x5740;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6587;&#x4EF6;&#x7684;&#x672B;&#x5C3E;&#x5730;&#x5740;&#x5728;&#x52A0;&#x4E0A;section name&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x770B;&#x5230;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x628A;section name&#x5927;&#x5C0F;&#x8BBE;&#x7F6E;&#x6210;&#x4E86;0x10&#xFF0C;&#x4E5F;&#x5C31;&#x8BF4;&#x65B0;&#x52A0;&#x7684;section&#x6BB5;&#x7684;name&#x957F;&#x5EA6;&#x4E0D;&#x53EF;&#x8D85;&#x8FC7;16&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x4E2A;&#x6570;&#x503C;&#x662F;&#x53EF;&#x4EE5;&#x6539;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x611F;&#x89C9;&#x6CA1;&#x5FC5;&#x8981;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;section name&#x6CA1;&#x5FC5;&#x8981;&#x641E;&#x90A3;&#x4E48;&#x957F;&#x3002;&#x90A3;&#x4E48;&#x8FD9;&#x91CC;&#x7684;&#x503C;&#x5C31;&#x662F;&#xFF1A;&#x6587;&#x4EF6;&#x7684;&#x957F;&#x5EA6;+0x10</p>
<p>sh_offset&#xFF1A;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x662F;&#x503C;&#x8BE5;&#x6BB5;&#x5230;&#x6587;&#x4EF6;&#x5F00;&#x59CB;&#x4F4D;&#x7F6E;&#x7684;&#x504F;&#x79FB;&#x503C;&#xFF0C;&#x8FD9;&#x4E2A;&#x503C;&#x6211;&#x4EEC;&#x60F3;&#x4E00;&#x4E0B;&#x5C31;&#x77E5;&#x9053;&#x4ED6;&#x7684;&#x503C;&#x548C;sh_addr&#x7684;&#x503C;&#x5E94;&#x8BE5;&#x4E00;&#x6837;&#x7684;&#x3002;</p>
<p>3&#x3001;&#x4FEE;&#x6539;String Section Header&#x4E2D;&#x7684;&#x5927;&#x5C0F;</p>
<p>&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x65B0;&#x52A0;&#x7684;Section name&#x5728;String Section&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8FD8;&#x5F97;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;String Section&#x7684;&#x5927;&#x5C0F;</p>
<p>4&#x3001;&#x4FEE;&#x6539;elf&#x5934;&#x90E8;&#x4E2D;section&#x7684;count&#x6570;</p>
<p>&#x8FD9;&#x6B65;&#x5C31;&#x7B80;&#x5355;&#x4E86;&#xFF0C;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#xFF1A;e_shnum</p>
<p>5&#x3001;&#x4FEE;&#x6539;Program Header&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x4E3A;LOAD&#x7684;&#x6BB5;&#x7684;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x548C;&#x5185;&#x5B58;&#x6620;&#x50CF;&#x7684;&#x5927;&#x5C0F;</p>
<p>&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;Type&#x4E3A;LOAD&#x7684;file_size&#x548C;mem_size&#x5B57;&#x6BB5;&#x7684;&#x5927;&#x5C0F;&#x4E3A;&#x6587;&#x4EF6;&#x7684;&#x603B;&#x5927;&#x5C0F;&#x5373;&#x53EF;&#x3002;&#x4E0B;&#x9762;&#x4F1A;&#x8BF4;&#x9053;type&#x4E3A;PT_LOAD&#x7684;&#x90FD;&#x4F1A;&#x88AB;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#x3002;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5982;&#x679C;&#x60F3;&#x628A;&#x6211;&#x4EEC;&#x65B0;&#x52A0;&#x7684;&#x6BB5;&#x7684;&#x5185;&#x5BB9;&#x52A0;&#x8F7D;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;file_size&#x548C;mem_size&#x4E3A;&#x6587;&#x4EF6;&#x7684;&#x603B;&#x5927;&#x5C0F;&#x3002;</p>
<p>&#x6BB5;&#x7684;&#x6DFB;&#x52A0;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x6BCF;&#x4E00;&#x6B65;&#x4E5F;&#x540C;&#x6837;&#x542F;&#x793A;&#x6211;&#x4EEC;&#x5982;&#x4F55;&#x5B9A;&#x4F4D;&#x5230;&#x5177;&#x4F53;&#x6BCF;&#x4E2A;&#x6BB5;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x5982;&#x679C;&#x662F;&#x5B9A;&#x4F4D;&#x5230;&#x5177;&#x4F53;&#x51FD;&#x6570;&#x90A3;&#x4E48;&#x66F4;&#x52A0;&#x590D;&#x6742;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#x4E86;&#x3002;&#x8FD9;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x901A;&#x8FC7;&#x5BF9;elf&#x6587;&#x4EF6;&#x89E3;&#x6790;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x7406;&#x89E3;so&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x4E2D;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x542B;&#x4E49;&#x3002;</p>
<h2 id="&#x4EAC;&#x6D25;&#x5180;&#x7F51;&#x5B89;&#x8054;&#x8D5B;sysndhy"><a href="#&#x4EAC;&#x6D25;&#x5180;&#x7F51;&#x5B89;&#x8054;&#x8D5B;sysndhy" class="headerlink" title="&#x4EAC;&#x6D25;&#x5180;&#x7F51;&#x5B89;&#x8054;&#x8D5B;sysndhy"></a>&#x4EAC;&#x6D25;&#x5180;&#x7F51;&#x5B89;&#x8054;&#x8D5B;sysndhy</h2><p>&#x6700;&#x5148;&#x505A;&#x8FD9;&#x4E2A;&#x9898;&#x7684;&#x65F6;&#x5019;&#x60F3;&#x5F97;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x662F;&#x597D;&#x50CF;&#x5927;&#x6982;&#x731C;&#x51FA;&#x6765;&#x89E3;&#x5BC6;&#x65B9;&#x5F0F;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5F02;&#x6216;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x76F4;&#x63A5;&#x89E3;&#x5BC6;&#x5F53;&#x7136;&#x8FD0;&#x6C14;&#x6BD4;&#x8F83;&#x597D;&#x5C31;&#x987A;&#x5229;&#x5730;&#x8FC7;&#x4E86;&#xFF0C;&#x6700;&#x8FD1;&#x5728;&#x603B;&#x7ED3;&#x4E4B;&#x524D;&#x505A;&#x7684;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#x65F6;&#xFF0C;&#x91CD;&#x65B0;&#x770B;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x9898;&#xFF0C;&#x5BF9;&#x6574;&#x4E2A;&#x5B9E;&#x73B0;&#x8FC7;&#x7A0B;&#x53C8;&#x91CD;&#x65B0;&#x7814;&#x7A76;&#x4E86;&#x4E00;&#x904D;&#xFF0C;&#x9996;&#x5148;&#x8FD9;&#x4E2A;&#x9898;&#x7528;&#x7684;&#x52A0;&#x5BC6;&#x624B;&#x6BB5;&#x5C31;&#x662F;&#x5BF9;so&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x6BB5;&#x548C;&#x6570;&#x636E;&#x6BB5;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x3002;</p>
<p>&#x7B2C;&#x4E00;&#x4E2A;&#x89E3;&#x5BC6;&#x51FD;&#x6570;&#x653E;&#x5728;init_array&#x6BB5;&#x4E2D;</p>
<p><img src="/2016/12/20/android&#x52A0;&#x5BC6;&#x6280;&#x672F;&#x2014;&#x2014;so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;/5.png" alt="5"></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E00;&#x5171;&#x4E09;&#x4E2A;&#x51FD;&#x6570;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;&#x5BF9;&#x540E;&#x4E24;&#x4E2A;&#x5730;&#x89E3;&#x5BC6;&#xFF0C;&#x540E;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x89E3;&#x5BC6;&#x4EE3;&#x7801;&#x6BB5;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x89E3;&#x5BC6;&#x5B57;&#x7B26;&#x4E32;&#x5730;&#x90A3;&#x4E2A;&#x6BB5;&#x3002;&#x5F53;&#x7136;&#x8FD9;&#x4E9B;&#x90FD;&#x8981;&#x901A;&#x8FC7;&#x52A8;&#x6001;&#x8C03;&#x8BD5;&#x5206;&#x6790;&#x51FA;&#x6765;&#xFF0C;&#x7531;&#x4E8E;&#x5728;&#x89E3;&#x5BC6;&#x65F6;&#xFF0C;&#x5730;&#x5740;&#x5176;&#x5B9E;&#x662F;&#x6BD4;&#x8F83;&#x96BE;&#x8BA1;&#x7B97;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x76F4;&#x63A5;&#x7528;&#x52A8;&#x6001;&#x8C03;&#x8BD5;&#x5C31;&#x76F4;&#x63A5;&#x770B;&#x5230;&#x5B83;&#x5728;&#x5BF9;&#x90A3;&#x4E00;&#x6BB5;&#x5730;&#x5740;&#x5730;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x89E3;&#x5BC6;&#x3002;</p>
<p>&#x5728;&#x4E24;&#x4E2A;&#x90FD;&#x89E3;&#x5BC6;&#x5B8C;&#x6210;&#x540E;&#x5C31;&#x662F;&#x8FDB;&#x5165;&#x6211;&#x4EEC;&#x7684;check&#x51FD;&#x6570;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x9898;&#x6BD4;&#x8F83;&#x8D31;&#x7684;&#x5E94;&#x8BE5;&#x662F;&#x4ED6;&#x628A;antidebug&#x653E;&#x5728;&#x4E86;Jstring2CStr&#x4E2D;&#xFF0C;&#x6700;&#x5148;&#x6211;&#x4EE5;&#x4E3A;&#x8FD9;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x8F6C;&#x5316;&#x51FD;&#x6570;&#x6240;&#x4EE5;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x9759;&#x6001;&#x5206;&#x6790;&#x65F6;&#x538B;&#x6839;&#x5C31;&#x6CA1;&#x70B9;&#x8FDB;&#x53BB;&#x770B;&#xFF0C;&#x540E;&#x8FB9;&#x52A8;&#x6001;&#x8C03;&#x8BD5;&#x5D29;&#x5230;&#x8FD9;&#x513F;&#x624D;&#x627E;&#x5230;&#x8FD9;&#x4E2A;&#x9898;&#x76EE;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x53CD;&#x8C03;&#x8BD5;</p>
<p><img src="/2016/12/20/android&#x52A0;&#x5BC6;&#x6280;&#x672F;&#x2014;&#x2014;so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;/6.png" alt="6"></p>
<p>&#x53CD;&#x8C03;&#x8BD5;&#x7528;&#x5230;&#x4E86;&#x4E24;&#x79CD;&#x624B;&#x6BB5;&#x4E00;&#x4E2A;&#x662F;&#x81EA;&#x5DF1;fork&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x7136;&#x540E;ptrace&#x9644;&#x52A0;&#x4E0A;&#x53BB;&#x3002;&#x518D;&#x4E00;&#x4E2A;&#x5C31;&#x662F;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x8BFB;&#x53D6;TracerPid&#xFF0C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x4E3A;&#x96F6;&#x6765;kill&#x8FDB;&#x7A0B;&#x3002;</p>
<p><img src="/2016/12/20/android&#x52A0;&#x5BC6;&#x6280;&#x672F;&#x2014;&#x2014;so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;/7.png" alt="6"></p>
<p>&#x4EE5;&#x4E0A;&#x662F;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5730;&#x5177;&#x4F53;&#x6D41;&#x7A0B;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x9898;&#x7684;&#x5177;&#x4F53;&#x89E3;&#x7B54;&#x6211;&#x662F;&#x901A;&#x8FC7;&#x9759;&#x6001;&#x8FD8;&#x539F;&#x51FA;&#x6765;&#x7684;&#xFF0C;&#x8FD9;&#x91CC;&#x8981;&#x7528;&#x5230;ida&#x4E2D;&#x7684;idc&#x811A;&#x672C;&#xFF0C;&#x6BD4;&#x8F83;&#x63A8;&#x8350;&#x7684;&#x662F;idapython&#x6765;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x8FD9;&#x91CC;&#x89E3;&#x5BC6;&#x8FC7;&#x7A0B;&#x5B9E;&#x5728;&#x592A;&#x7B80;&#x5355;&#x5C31;&#x76F4;&#x63A5;&#x7528;idc&#x6765;&#x89E3;&#x5BC6;&#x4E86;&#xFF0C;&#x811A;&#x672C;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">static main(void)</div><div class="line">{</div><div class="line">  auto fp, begin, end, dexbyte,tmp;</div><div class="line">  begin = 0x0000105c;</div><div class="line">  end = 0x0000111f;</div><div class="line">  for ( dexbyte = begin; dexbyte &lt; end; dexbyte ++ ){</div><div class="line">      tmp=Byte(dexbyte)^0xAB;</div><div class="line">      PatchByte(dexbyte,tmp);</div><div class="line">      }</div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x5BF9;&#x4E8E;&#x7279;&#x5B9A;&#x7684;&#x4EE3;&#x7801;&#x4FEE;&#x6539;begin&#x548C;end&#x7684;&#x5730;&#x5740;&#x5373;&#x53EF;&#x3002;&#x89E3;&#x5BC6;&#x5B8C;&#x6240;&#x6709;&#x7684;&#x4EE3;&#x7801;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E86;&#xFF1A;</p>
<p><img src="/2016/12/20/android&#x52A0;&#x5BC6;&#x6280;&#x672F;&#x2014;&#x2014;so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;/8.png" alt="8"></p>
<p>&#x51FD;&#x6570;&#x5C06;&#x8F93;&#x5165;&#x5206;&#x6210;&#x4E09;&#x7EC4;&#xFF0C;&#x5206;&#x522B;&#x4E0E;0x11&#xFF0C;0x22&#xFF0C;0x33&#x8FDB;&#x884C;&#x5F02;&#x6216;&#xFF0C;&#x7136;&#x540E;&#x4E0E;table&#x8FDB;&#x884C;&#x5BF9;&#x6BD4;</p>
<p>&#x5904;&#x7406;&#x65B9;&#x6CD5;&#xFF1A;&#x540C;&#x6837;&#x4F7F;&#x7528;idc&#x811A;&#x672C;&#x53D6;&#x51FA;table&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5B58;&#x5728;txt&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x7F16;&#x5199;python&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x5E76;&#x4E14;&#x8FDB;&#x884C;&#x89E3;&#x5BC6;&#xFF0C;&#x6700;&#x540E;&#x5F97;&#x5230;&#x6B63;&#x786E;&#x7684;&#x5B57;&#x7B26;&#x4E32;</p>
<p><img src="/2016/12/20/android&#x52A0;&#x5BC6;&#x6280;&#x672F;&#x2014;&#x2014;so&#x6587;&#x4EF6;&#x52A0;&#x5BC6;/9.png" alt="9"></p>
<p>&#x7B54;&#x6848;&#xFF1A;<code>decryptpass=Txmg</code>&#x3002;</p>
<h2 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h2><p>&#x5BF9;&#x4E8E;&#x8FD9;&#x4E2A;&#x9898;&#x4E0D;&#x5F97;&#x4E0D;&#x8BF4;&#xFF0C;&#x6700;&#x5F00;&#x59CB;&#x6CA1;&#x6709;&#x60F3;&#x8FD9;&#x4E48;&#x590D;&#x6742;&#x3002;&#x6700;&#x540E;&#x5206;&#x6790;&#x5B8C;&#x4E86;&#x624D;&#x89C9;&#x5F97;&#x91CC;&#x8FB9;&#x6709;&#x5F88;&#x591A;&#x4E1C;&#x897F;&#xFF0C;&#x867D;&#x7136;&#x8BF4;&#x6700;&#x7EC8;&#x7684;&#x9A8C;&#x8BC1;&#x7B97;&#x6CD5;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6C42;&#x9006;&#x3002;&#x4F46;&#x662F;&#x91CC;&#x8FB9;&#x7528;&#x5230;&#x7684;&#x4FDD;&#x62A4;&#x624B;&#x6BB5;&#x8FD8;&#x662F;&#x7B97;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x3002;</p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2017/01/06/机器学习实战（三）——朴素贝叶斯/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2016/12/19/机器学习实战（二）决策树/" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">Comments</h2>

    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2016-12-20 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/安全技术/">安全技术<span>5</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/移动安全/">移动安全<span>5</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 李南均
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>
